!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Ore=t()}(this,function(){"use strict";function e(e,t){this.v=e,this.k=t}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t){return e.get(n(e,t))}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function a(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},c.apply(null,arguments)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function b(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function m(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function g(t){var n,r;function o(n,r){try{var u=t[n](r),a=u.value,c=a instanceof e;Promise.resolve(c?a.v:a).then(function(e){if(c){var r="return"===n?"return":"next";if(!a.k||e.done)return o(r,e);e=t[r](e).value}i(u.done?"return":"normal",e)},function(e){o("throw",e)})}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(i,u){var a={key:e,arg:t,resolve:i,reject:u,next:null};r?r=r.next=a:(n=r=a,o(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}function w(e){var t="function"==typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&y(o,n.prototype),o}(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},w(e)}g.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},g.prototype.next=function(e){return this._invoke("next",e)},g.prototype.throw=function(e){return this._invoke("throw",e)},g.prototype.return=function(e){return this._invoke("return",e)};var O;var N="undefined"==typeof document?void 0:document,S=!!N&&"content"in N.createElement("template"),A=!!N&&N.createRange&&"createContextualFragment"in N.createRange();function T(e){return e=e.trim(),S?function(e){var t=N.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(e):A?function(e){return O||(O=N.createRange()).selectNode(N.body),O.createContextualFragment(e).childNodes[0]}(e):function(e){var t=N.createElement("body");return t.innerHTML=e,t.childNodes[0]}(e)}function k(e,t){var n,r,o=e.nodeName,i=t.nodeName;return o===i||(n=o.charCodeAt(0),r=i.charCodeAt(0),n<=90&&r>=97?o===i.toUpperCase():r<=90&&n>=97&&i===o.toUpperCase())}function E(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var C={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();"OPTGROUP"===r&&(r=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==r||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}E(e,t,"selected")},INPUT:function(e,t){E(e,t,"checked"),E(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var o=r.nodeValue;if(o==n||!n&&o==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,r,o=-1,i=0,u=e.firstChild;u;)if("OPTGROUP"===(r=u.nodeName&&u.nodeName.toUpperCase()))(u=(n=u).firstChild)||(u=n.nextSibling,n=null);else{if("OPTION"===r){if(u.hasAttribute("selected")){o=i;break}i++}!(u=u.nextSibling)&&n&&(u=n.nextSibling,n=null)}e.selectedIndex=o}}};function j(){}function P(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var x=function(e){return function(t,n,r){if(r||(r={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName){var o=n;(n=N.createElement("html")).innerHTML=o}else if("BODY"===t.nodeName){var i=n;(n=N.createElement("html")).innerHTML=i;var u=n.querySelector("body");u&&(n=u)}else n=T(n);else 11===n.nodeType&&(n=n.firstElementChild);var a=r.getNodeKey||P,c=r.onBeforeNodeAdded||j,f=r.onNodeAdded||j,l=r.onBeforeElUpdated||j,s=r.onElUpdated||j,d=r.onBeforeNodeDiscarded||j,p=r.onNodeDiscarded||j,v=r.onBeforeElChildrenUpdated||j,y=r.skipFromChildren||j,h=r.addChild||function(e,t){return e.appendChild(t)},b=!0===r.childrenOnly,m=Object.create(null),g=[];function w(e){g.push(e)}function O(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var r=void 0;t&&(r=a(n))?w(r):(p(n),n.firstChild&&O(n,t)),n=n.nextSibling}}function S(e,t,n){!1!==d(e)&&(t&&t.removeChild(e),p(e),O(e,n))}function A(e){if(1===e.nodeType||11===e.nodeType)for(var t=e.firstChild;t;){var n=a(t);n&&(m[n]=t),A(t),t=t.nextSibling}}function E(e){f(e);for(var t=e.firstChild;t;){var n=t.nextSibling,r=a(t);if(r){var o=m[r];o&&k(t,o)?(t.parentNode.replaceChild(o,t),x(o,t)):E(t)}else E(t);t=n}}function x(t,n,r){var o=a(n);if(o&&delete m[o],!r){var i=l(t,n);if(!1===i)return;if(i instanceof HTMLElement&&A(t=i),e(t,n),s(t),!1===v(t,n))return}"TEXTAREA"!==t.nodeName?function(e,t){var n,r,o,i,u,f=y(e,t),l=t.firstChild,s=e.firstChild;e:for(;l;){for(i=l.nextSibling,n=a(l);!f&&s;){if(o=s.nextSibling,l.isSameNode&&l.isSameNode(s)){l=i,s=o;continue e}r=a(s);var d=s.nodeType,p=void 0;if(d===l.nodeType&&(1===d?(n?n!==r&&((u=m[n])?o===u?p=!1:(e.insertBefore(u,s),r?w(r):S(s,e,!0),r=a(s=u)):p=!1):r&&(p=!1),(p=!1!==p&&k(s,l))&&x(s,l)):3!==d&&8!=d||(p=!0,s.nodeValue!==l.nodeValue&&(s.nodeValue=l.nodeValue))),p){l=i,s=o;continue e}r?w(r):S(s,e,!0),s=o}if(n&&(u=m[n])&&k(u,l))f||h(e,u),x(u,l);else{var v=c(l);!1!==v&&(v&&(l=v),l.actualize&&(l=l.actualize(e.ownerDocument||N)),h(e,l),E(l))}l=i,s=o}!function(e,t,n){for(;t;){var r=t.nextSibling;(n=a(t))?w(n):S(t,e,!0),t=r}}(e,s,r);var b=C[e.nodeName];b&&b(e,t)}(t,n):C.TEXTAREA(t,n)}A(t);var R,_,U=t,D=U.nodeType,I=n.nodeType;if(!b)if(1===D)1===I?k(t,n)||(p(t),U=function(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}(t,(R=n.nodeName,(_=n.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==_?N.createElementNS(_,R):N.createElement(R)))):U=n;else if(3===D||8===D){if(I===D)return U.nodeValue!==n.nodeValue&&(U.nodeValue=n.nodeValue),U;U=n}if(U===n)p(t);else{if(n.isSameNode&&n.isSameNode(U))return;if(x(U,n,b),g)for(var L=0,M=g.length;L<M;L++){var V=m[g[L]];V&&S(V,V.parentNode,!1)}}return!b&&U!==t&&t.parentNode&&(U.actualize&&(U=U.actualize(t.ownerDocument||N)),t.parentNode.replaceChild(U,t)),U}}(function(e,t){var n,r,o,i,u=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var a=u.length-1;a>=0;a--)r=(n=u[a]).name,o=n.namespaceURI,i=n.value,o?(r=n.localName||r,e.getAttributeNS(o,r)!==i&&("xmlns"===n.prefix&&(r=n.name),e.setAttributeNS(o,r,i))):e.getAttribute(r)!==i&&e.setAttribute(r,i);for(var c=e.attributes,f=c.length-1;f>=0;f--)r=(n=c[f]).name,(o=n.namespaceURI)?(r=n.localName||r,t.hasAttributeNS(o,r)||e.removeAttributeNS(o,r)):t.hasAttribute(r)||e.removeAttribute(r)}});function R(e){if(""===e)return!0;if("false"===e)return!1;if("true"===e)return!0;if(0==isNaN(e)&&""!==e.trim())return Number(e);try{return JSON.parse(e)}catch(e){}return e}var _=new WeakMap,U=function(e){function t(){var e,n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=f(o=t),a(e=v(n,s()?Reflect.construct(o,i||[],f(n).constructor):o.apply(n,i)),"attrs",{}),a(e,"state",{}),a(e,"root",void 0),function(e,t,n){r(e,t),t.set(e,n)}(e,_,[]),a(e,"hasRendered",!1),e.root=e.attachShadow({mode:"open"}),e.attrs=function(e){var t,n={},r=u(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.name]=R(o.value)}}catch(e){r.e(e)}finally{r.f()}return n}(e.attributes),e.created(),e}return l(t,e),d=t,y=[{key:"connectedCallback",value:function(){this.mounted(),this.resync()}},{key:"disconnectedCallback",value:function(){this._unbind(),this.unmounted()}},{key:"attributeChangedCallback",value:function(e,t,n){var r=p({},this.attrs);this.attrs[e]=n,t!=n&&(this.updatedAttrs(r),this.resync())}},{key:"setState",value:function(e){var t=p(p({},this.state),e),n=p({},this.state);1==this.canUpdateState(t)&&(this.state=t,this.updatedState(n),this.resync())}},{key:"resync",value:function(){var e,n,r,o,i;this.canRender()&&((e=t,n="removeAttribute",r=this,i=c(f(1&(o=3)?e.prototype:e),n,r),2&o&&"function"==typeof i?function(e){return i.apply(r,e)}:i)(["defer"]),this._reconcile(this.render()),this._bind(),this.hasRendered=!0)}},{key:"_reconcile",value:function(e){if(!0===this.constructor.useDiffing){var t=document.createElement("div");t.innerHTML=e,x(this.root,t,{childrenOnly:!0})}else this.root.innerHTML=e}},{key:"_unbind",value:function(){if(this.constructor.useDiffing){var e,t=u(o(_,this));try{for(t.s();!(e=t.n()).done;){var r=e.value,i=r.el,a=r.event,c=r.bound;i.removeEventListener(a,c)}}catch(e){t.e(e)}finally{t.f()}}var f,l,s;l=this,s=[],(f=_).set(n(f,l),s)}},{key:"_bind",value:function(){var e=this;this._unbind();var t=["click","mousedown","mouseup","keyup","keydown","input","change","focus","blur"];this.root.querySelectorAll("*").forEach(function(n){t.forEach(function(t){var r="@".concat(t),i=n.getAttribute(r);if(i&&"function"==typeof e[i]){var u=e[i].bind(e);n.addEventListener(t,u),o(_,e).push({el:n,event:t,bound:u})}})})}},{key:"created",value:function(){}},{key:"mounted",value:function(){}},{key:"unmounted",value:function(){}},{key:"canRender",value:function(){return!0}},{key:"render",value:function(){return""}},{key:"canUpdateState",value:function(e){return!0}},{key:"updatedState",value:function(e){}},{key:"updatedAttrs",value:function(e){}}],h=[{key:"observedAttributes",get:function(){return this._observed||[]}},{key:"register",value:function(e,t,n){t._observed=n,customElements.define(e,t)}}],y&&i(d.prototype,y),h&&i(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d;var d,y,h}(w(HTMLElement));return a(U,"_observed",[]),a(U,"useDiffing",!1),U});
