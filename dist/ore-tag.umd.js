!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Ore=e()}(this,function(){"use strict";function t(t,e,n){return e=o(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,i()?Reflect.construct(e,[],o(t).constructor):e.apply(t,n))}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function n(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},r.apply(null,arguments)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function i(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(i=function(){return!!t})()}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){n(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function f(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}function l(t){var e="function"==typeof Map?new Map:void 0;return l=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(i())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&a(o,n.prototype),o}(t,arguments,o(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,t)},l(t)}function s(t){return Object.fromEntries(Array.from(t).map(function(t){return[t.name,t.value]}))}return function(i){function u(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n(e=t(this,u),"state",{}),n(e,"attrs",{}),n(e,"root",void 0),e.root=e.attachShadow({mode:"open"}),e.attrs=s(e.attributes),e.created(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,i),f=u,l=[{key:"connectedCallback",value:function(){this.mounted(),this._render()}},{key:"disconnectedCallback",value:function(){this.unmounted()}},{key:"setAttribute",value:function(t,e){this.updateAttr(t,e)}},{key:"updateAttr",value:function(t,e){var i,a,f,l=c(c({},s(this.attributes)),{},n({},t,e));1==this.canUpdate(l,this.state)&&(this.updating(l,this.state),(i="setAttribute",a=this,"function"==typeof(f=r(o(u.prototype),i,a))?function(t){return f.apply(a,t)}:f)([t,e]),this.attrs=l,this._render(),this.updated())}},{key:"updateState",value:function(t){var e=c(c({},this.state),t);1==this.canUpdate(this.attrs,e)&&(this.updating(this.attrs,e),this.state=e,this._render(),this.updated())}},{key:"_render",value:function(){this.removeAttribute("defer"),this.attrs=s(this.attributes),1==this.canRender()&&(this.shadowRoot.innerHTML=this.render(),this._bind())}},{key:"_bind",value:function(){var t=this,e=["click","mousedown","mouseup","keyup","keydown","input","change","focus","blur"];this.root.querySelectorAll("*").forEach(function(n){e.forEach(function(e){var r="@".concat(e),o=n.getAttribute(r);if(o&&"function"==typeof t[o]){var i=t[o].bind(t);n.addEventListener(e,i)}})})}},{key:"mounted",value:function(){}},{key:"unmounted",value:function(){}},{key:"created",value:function(){}},{key:"render",value:function(){return""}},{key:"canRender",value:function(){return!0}},{key:"canUpdate",value:function(t,e){return!0}},{key:"updating",value:function(t,e){}},{key:"updated",value:function(){}}],p=[{key:"register",value:function(t,e){window.customElements.define(t,e)}}],l&&e(f.prototype,l),p&&e(f,p),Object.defineProperty(f,"prototype",{writable:!1}),f;var f,l,p}(l(HTMLElement))});
